[workspace]
name = "prognosis-marker"
version = "0.1.0"
channels = ["conda-forge"]
platforms = ["linux-64", "osx-64", "osx-arm64"]

description = "Stepwise AUC optimisation workflows for binary and survival prognosis markers"

[dependencies]
# R dependencies available on conda-forge
r-base = "4.3.*"
r-yaml = "*"
r-ggplot2 = "*"
r-caret = "*"
r-rocr = "*"
r-proc = "*"
# Note: r-cutpointr, r-coefplot, and r-nsroc are not available on conda-forge
# These will be installed via CRAN using the install-r-packages task
r-survival = "*"
r-png = "*"
r-magrittr = "*"

# Python dependencies for Streamlit web interface
python = ">=3.9,<3.12"
streamlit = ">=1.31.0"
pandas = ">=2.1.0"
pyyaml = ">=6.0.0"

[tasks]
# R package installation
install-r-packages = "R -q -e \"install.packages(c('ROCR','pROC','cutpointr','coefplot','caret','nsROC','survival','yaml','ggplot2'), repos='https://cloud.r-project.org')\""

# R analysis workflows
binary = "Rscript Main_Binary.R --config config/example_analysis.yaml"
survival = "Rscript Main_Survival.R --config config/example_analysis.yaml"

# Streamlit codebase analyzer
streamlit = "streamlit run streamlit_app.py --server.port 8501 --server.address localhost"
